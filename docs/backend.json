{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user within the Nusantara OSIS Hub application.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "User ID from Firebase Authentication. Unique identifier for the User entity."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "photoURL": {
          "type": "string",
          "description": "URL of the user's profile photo.",
          "format": "uri"
        },
        "position": {
          "type": "string",
          "description": "Specific role or title held by the user within OSIS (e.g., 'Ketua OSIS', 'Sekretaris 1')."
        },
        "divisionId": {
          "type": "string",
          "description": "Reference to Division. (Relationship: Division 1:N User)"
        },
        "divisionName": {
          "type": "string",
          "description": "Name of the division the user belongs to (e.g., 'Pengurus Inti', 'Divisi Teknologi dan Komunikasi')."
        },
        "accessLevel": {
          "type": "number",
          "description": "Numerical value representing the user's hierarchical level within OSIS (e.g., 10: Ketua, 9: Wakil, etc.)."
        }
      },
      "required": [
        "uid",
        "email",
        "name",
        "position",
        "divisionId",
        "divisionName",
        "accessLevel"
      ]
    },
    "Task": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Task",
      "type": "object",
      "description": "Represents a task assigned within the OSIS organization.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Task entity."
        },
        "title": {
          "type": "string",
          "description": "Title of the task."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the task."
        },
        "assignedToUID": {
          "type": "string",
          "description": "UID of the member assigned to the task."
        },
        "assignedToName": {
          "type": "string",
          "description": "Name of the member assigned to the task."
        },
        "assignedByUID": {
          "type": "string",
          "description": "UID of the member who assigned the task."
        },
        "assignedByName": {
          "type": "string",
          "description": "Name of the member who assigned the task."
        },
        "divisionId": {
          "type": "string",
          "description": "ID of the division the task is related to."
        },
        "dueDate": {
          "type": "string",
          "description": "Date and time when the task is due.",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "description": "Date and time when the task was created.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Current status of the task.",
          "enum": ["pending", "in-progress", "completed", "overdue"]
        },
        "priority": {
          "type": "string",
          "description": "Priority level of the task.",
          "enum": ["low", "medium", "high", "urgent"]
        }
      },
      "required": [
        "title",
        "assignedToUID",
        "assignedToName",
        "assignedByUID",
        "assignedByName",
        "dueDate",
        "createdAt",
        "status",
        "priority"
      ]
    },
    "Division": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Division",
      "type": "object",
      "description": "Represents a division within the OSIS organization.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Division entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the division (e.g., 'Divisi Keimanan & Ketaqwaan')."
        },
        "description": {
          "type": "string",
          "description": "Description of the division's responsibilities and activities."
        },
        "order": {
            "type": "number",
            "description": "A number to sort the divisions in the UI."
        }
      },
      "required": ["id", "name", "description", "order"]
    },
    "WorkProgram": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WorkProgram",
      "type": "object",
      "description": "Represents a work program for a division.",
      "properties": {
        "division": { "type": "string" },
        "programs": { "type": "array", "items": { "type": "string" } },
        "order": { "type": "number" }
      },
      "required": ["division", "programs", "order"]
    },
    "GalleryImage": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "GalleryImage",
        "type": "object",
        "description": "Represents an image in the public gallery.",
        "properties": {
            "description": { "type": "string" },
            "imageUrl": { "type": "string", "format": "uri" },
            "imageHint": { "type": "string" },
            "order": { "type": "number" }
        },
        "required": ["description", "imageUrl", "order"]
    },
    "FundRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FundRequest",
      "type": "object",
      "description": "Represents a request for funds from a division.",
      "properties": {
        "division": { "type": "string" },
        "item": { "type": "string" },
        "amount": { "type": "number" },
        "status": { "type": "string", "enum": ["Pending", "Approved", "Rejected"] },
        "requestedBy": { "type": "string", "description": "UID of the user making the request." },
        "requestedByName": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["division", "item", "amount", "status", "requestedBy", "requestedByName", "createdAt"]
    },
    "FinancialReport": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FinancialReport",
      "type": "object",
      "description": "Represents a financial transaction (income or expense).",
      "properties": {
        "date": { "type": "string", "format": "date-time" },
        "description": { "type": "string" },
        "type": { "type": "string", "enum": ["Pemasukan", "Pengeluaran"] },
        "amount": { "type": "number" },
        "recordedBy": { "type": "string", "description": "UID of the user recording the transaction." },
        "recordedByName": { "type": "string" }
      },
      "required": ["date", "description", "type", "amount", "recordedBy", "recordedByName"]
    }
  },
  "auth": { "providers": ["password", "anonymous"] },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/User" },
      "description": "Stores user profiles."
    },
    "/tasks/{taskId}": {
      "schema": { "$ref": "#/entities/Task" },
      "description": "Stores tasks assigned to users."
    },
    "/divisions/{divisionId}": {
      "schema": { "$ref": "#/entities/Division" },
      "description": "Stores division information."
    },
    "/workPrograms/{programId}": {
        "schema": { "$ref": "#/entities/WorkProgram" },
        "description": "Stores work programs for divisions."
    },
    "/galleryImages/{imageId}": {
        "schema": { "$ref": "#/entities/GalleryImage" },
        "description": "Stores images for the public gallery."
    },
    "/fundRequests/{requestId}": {
      "schema": { "$ref": "#/entities/FundRequest" },
      "description": "Stores fund requests from divisions."
    },
    "/financialReports/{reportId}": {
      "schema": { "$ref": "#/entities/FinancialReport" },
      "description": "Stores all financial transactions."
    }
  }
}
